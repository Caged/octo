/*!
 * octo.js
 * Copyright (c) 2012 Justin Palmer <justin@labratrevenge.com>
 * MIT Licensed
 */((function(){typeof superagent=="undefined"&&require&&(superagent=require("superagent"),btoa=require("btoa"));var a={};a.api=function(){function h(){}function i(a,b,i){function q(){p()}var j=1,k=30,l=!1,m=!1,n={},o={},p=function(){var o=superagent[a](h.host()+b),p=function(a){c=~~a.header["x-ratelimit-limit"],d=~~a.header["x-ratelimit-remaining"];var b=a.header.link;l=/rel=\"next\"/i.test(b),m=/rel=\"next\"/.test(b),q.trigger("end",a),a.ok&&q.trigger("success",a),a.error&&q.trigger("error",a)};g&&o.set("Authorization","token "+g),!g&&e&&f&&o.set("Authorization","Basic "+btoa(e+":"+f)),o.set(n).query({page:j,per_page:k}).send(i).end(p)};return q.page=function(a){return arguments.length?(j=a,q):j},q.perpage=function(a){return arguments.length?(k=a,q):k},q.next=function(){return j+=1,p(),q},q.prev=function(){return j-=1,p(),q},q.hasnext=function(){return l},q.hasprev=function(){return m},q.on=function(a,b){return typeof o[a]=="undefined"&&(o[a]=[]),o[a].push(b),q},q.trigger=function(a,b){return o[a]instanceof Array&&o[a].forEach(function(a){a.call(q,b)}),q},q.set=function(a,b){return n[a]=b,q},q}var a="https://api.github.com",b=superagent,c,d,e,f,g;return h.host=function(b){return arguments.length?(a=b,h):a},h.get=function(a,b){return new i("get",a)},h.post=function(a,b){return new i("post",a,b)},h.patch=function(a,b){return new i("patch",a,b)},h.put=function(a,b){return new i("put",a,b)},h.delete=function(a,b){return new i("delete",a,b)},h.limit=function(){return c},h.remaining=function(){return d},h.username=function(a){return arguments.length?(e=a,h):e},h.password=function(a){return arguments.length?(f=a,h):f},h.token=function(a){return arguments.length?(g=a,h):g},h},typeof module!="undefined"?module.exports=a:window.octo=a})).call(this);